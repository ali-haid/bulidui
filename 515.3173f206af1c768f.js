"use strict";(self.webpackChunkenteract_access=self.webpackChunkenteract_access||[]).push([[515],{2515:($,w,m)=>{m.r(w),m.d(w,{PermissionsModule:()=>R});var b=m(9808),u=m(8744),n=m(3075);class A{constructor(){this.id=0,this.name="",this.location_Id=0,this.description="",this.Floor_Id=0,this.AccessPoint_Id=0,this.Device_Id=0,this.is_Bio=!1,this.is_RFID=!1,this.is_Face=!1}}var e=m(5e3),C=m(5924),F=m(1772),v=m(1555),T=m(2290),y=m(6123),x=m(8548);let I=(()=>{class s{transform(t,i){return t.replace(/ /g,"")}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275pipe=e.Yjl({name:"removewhitespaces",type:s,pure:!0}),s})();function U(s,c){if(1&s&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&s){const t=c.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function S(s,c){if(1&s){const t=e.EpF();e.TgZ(0,"li",67)(1,"label",68)(2,"input",69),e.NdJ("click",function(){const r=e.CHM(t).$implicit,a=e.oxw().$implicit,l=e.oxw().$implicit;return e.oxw().addPermission(l.floors.id,r.id,a.id,"","","")})("change",function(o){const a=e.CHM(t).index,l=e.oxw().index,d=e.oxw().index;return e.oxw().isAllSelected(o,a,l,d)}),e.qZA(),e._uU(3),e.qZA(),e.TgZ(4,"small",70),e._uU(5,"IN"),e.qZA()()}if(2&s){const t=c.$implicit,i=c.index,o=e.oxw().index,r=e.oxw().index;e.xp6(2),e.cQ8("id","check",r,"",o,"",i,""),e.s9C("value",t.id),e.Q6J("checked",t.isChecked),e.xp6(1),e.hij(" ",t.name," ")}}function N(s,c){if(1&s){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",51)(2,"div",52)(3,"ul",53)(4,"li",54),e.ALo(5,"removewhitespaces"),e.ALo(6,"removewhitespaces"),e._UZ(7,"span",55),e.TgZ(8,"div",56)(9,"div",57),e._uU(10),e.qZA()(),e.TgZ(11,"div",58),e._UZ(12,"input",59),e.qZA()()()(),e.TgZ(13,"div",60),e.ALo(14,"removewhitespaces"),e.TgZ(15,"div",61)(16,"ul",62)(17,"li",63)(18,"label",64)(19,"input",65),e.NdJ("change",function(o){const a=e.CHM(t).index,l=e.oxw().index;return e.oxw().checkUncheckAll(o,a,l)}),e.qZA(),e._uU(20," Select All "),e.qZA()(),e.YNc(21,S,6,6,"li",66),e.qZA()()()(),e.BQk()}if(2&s){const t=c.$implicit,i=c.index,o=e.oxw().index;e.xp6(4),e.uIk("data-bs-target",e.lcZ(5,8,"#"+t.name))("aria-controls",e.lcZ(6,10,t.name)),e.xp6(6),e.hij(" ",t.name,""),e.xp6(3),e.Q6J("id",e.lcZ(14,12,t.name)),e.xp6(6),e.hYB("id","all",o,"",i,""),e.Q6J("checked",t.isMasterSelectAll),e.xp6(2),e.Q6J("ngForOf",t.devices)}}function P(s,c){if(1&s&&(e.ynx(0),e.TgZ(1,"h6",49),e._uU(2),e.qZA(),e._UZ(3,"div",50),e.YNc(4,N,22,14,"ng-container",37),e.BQk()),2&s){const t=c.$implicit;e.xp6(2),e.Oqu(t.floors.name),e.xp6(2),e.Q6J("ngForOf",t.accesspoint)}}let q=(()=>{class s{constructor(t,i,o,r,a,l,d,g){this.locationService=t,this.floorService=i,this.dataShare=o,this.router=r,this.toaster=a,this.accessService=l,this.permissionService=d,this.formbuilder=g,this.Floors=[],this.permission=new A,this.AccessPoint=[],this.loc_id=0,this.permissionForm=new n.cw({Id:new n.NI(this.permission.id),Name:new n.NI(this.permission.name),Location_Id:new n.NI(this.permission.location_Id),Description:new n.NI(this.permission.description),Floor_Id:new n.NI(this.permission.Floor_Id),AccessPoint_Id:new n.NI(this.permission.AccessPoint_Id),Device_Id:new n.NI(this.permission.Device_Id),is_Bio:new n.NI(this.permission.is_Bio),is_RFID:new n.NI(this.permission.is_RFID),is_Face:new n.NI(this.permission.is_Face)}),this.message=["Permissions","Create Permission","","","","","","","fal fa-business-time","/dashboard/listofpermissions","/dashboard/listofpermissions/createpermission","breadcrumb-item active"],this.isChecked=!1,this.isMasterSelectAll=!1}ngOnInit(){this.getAllLocations(),this.dataShare.sendMessage(this.message)}getfilteredData(t){this.accessService.getByLoc(t).subscribe(i=>{this.AccessPoint=i.data,console.log(this.AccessPoint)},i=>{})}getAllLocations(){this.locationService.getAllLocations().subscribe(t=>{this.Locations=t.data},t=>{})}getAllFloors(){this.floorService.getAllByLocation(this.loc_id).subscribe(t=>{this.Floors=t.data,this.Floors.forEach(i=>{i.accesspoint.forEach(o=>{o.isMasterSelectAll=!1})}),console.log("Floors====>",this.Floors),this.Floors.forEach(i=>{i.accesspoint.forEach(o=>{console.log("devicesss=====>",o.devices)})})},t=>{})}addPermission(t,i,o,r,a,l){let g,h,f,d=this.AccessPoint.find(p=>p.Floor_Id==t&&p.Device_Id==i);if(null==d)g=""!=r&&r.target.checked,h=""!=a&&a.target.checked,f=""!=l&&l.target.checked,this.AccessPoint.push({Id:0,Name:this.permissionForm.value.Name,Location_Id:this.permissionForm.value.Location_Id,Description:this.permissionForm.value.Description,Floor_Id:t,AccessPoint_Id:o,Device_Id:i,is_Bio:g,is_RFID:h,is_Face:f});else{let p=this.AccessPoint.findIndex(_=>_.Floor_Id==t&&_.Device_Id==i);""!=r&&(d.is_Bio=r.target.checked),""!=a&&(d.is_RFID=a.target.checked),""!=l&&(d.is_Face=l.target.checked),this.AccessPoint[p]=d}console.log(this.AccessPoint)}CreatePermission(){this.permissionService.Add(this.AccessPoint).subscribe(t=>{this.toaster.success("Successfully Created","Success"),this.router.navigateByUrl("/dashboard/listofpermissions")})}checkUncheckAll(t,i,o){let r,a;r=this.Floors[o],a=r.accesspoint[i],a.devices.forEach(l=>l.isChecked=t.target.checked),a.isMasterSelectAll=!!a.devices.every(l=>1==l.isChecked)}isAllSelected(t,i,o,r){let a,l;a=this.Floors[r],l=a.accesspoint[o],l.devices[i].isChecked=t.target.checked,l.isMasterSelectAll=!!l.devices.every(d=>1==d.isChecked)}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(C.a),e.Y36(F.w),e.Y36(v.f),e.Y36(u.F0),e.Y36(T._W),e.Y36(y.G),e.Y36(x.$),e.Y36(n.qu))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-createpermission"]],decls:66,vars:5,consts:[[1,"main-wrapper","d-flex"],[1,"middle-wrapper","d-flex","w-100","flex-column"],[3,"formGroup","submit"],[1,"content-box-wrapper","d-flex","w-100"],[1,"middle-content","d-flex"],[1,"page-content-wrapper"],[1,"w-auto","chat-message-component","inner-forms","w-100"],[1,"d-flex","main-body-wrapper"],[1,"agent-page-main-content"],["data-scrollbar","data-scrollbar",1,"query-container","console-body-wrapper","form-body-wrap","perfect-scrollbar"],[1,"w-100","p-4"],[1,"tab-header"],["id","nav-tab","role","tablist",1,"nav","nav-tabs","mb-3"],["id","role-detail-tab","data-bs-toggle","tab","data-bs-target","#role-detail","type","button","role","tab","aria-controls","role-detail","aria-selected","false",1,"nav-link","active"],["id","permission-sec-tab","data-bs-toggle","tab","data-bs-target","#permission-sec","type","button","role","tab","aria-controls","permission-sec","aria-selected","false",1,"nav-link"],[1,"tab-body"],["id","nav-tabContent",1,"tab-content"],["id","role-detail","role","tabpanel","aria-labelledby","role-detail-tab",1,"tab-pane","fade","active","show"],[1,"row","justify-content-center","p-5"],[1,"col-md-8"],[1,"role-detail-wrap"],[1,"line-txt","mb-4"],[1,"floating-list"],[1,"floating-item","mb-3"],[1,"floating-wrap","form-floating"],["type","text","id","floatingInput","placeholder","Name","formControlName","Name",1,"form-control"],["for","floatingInputValue"],[1,"example-text"],[1,"form-floating","mb-4"],["id","floatingSelect","aria-label","Floating label select example","formControlName","Location_Id",1,"form-select",3,"ngModel","change","ngModelChange"],["disabled",""],[3,"value",4,"ngFor","ngForOf"],["for","floatingSelect"],[1,"floating-item","mb-4"],["placeholder","This roles & permissions belong to agent and\n                    team members","id","floatingTextarea2","formControlName","Description",1,"form-control",2,"height","100px"],["for","floatingTextarea2"],["id","permission-sec","role","tabpanel","aria-labelledby","permission-sec-tab",1,"tab-pane","fade"],[4,"ngFor","ngForOf"],[1,"footer"],[1,"ps-3","pe-3"],[1,"icon-buttons-wrapper","d-flex","justify-content-between","pt-3","pb-4"],[1,"row","w-100"],[1,"col-md-4"],[1,"col-md-8","justify-content-end","d-flex"],[1,"buttons-wrap","d-flex"],["routerLink","/dashboard/listofpermissions","type","button","data-bs-toggle","modal","data-bs-target","",1,"btn","btn-outline-secondary","btn-medium","me-2","px-4"],["type","button",1,"btn","btn-success","ms-e","f-saveBtn","btn-large","d-none"],["type","submit","data-bs-toggle","modal","data-bs-target","#save-account-modal",1,"btn","skyBg","ms-2","px-4","btn-medium","saveBtn",3,"disabled"],[3,"value"],[1,"mt-5"],[1,"border","mb-4"],[1,"collapse-toggle-card","toggle-wrap","shadow-sm","rounded","border","mb-3"],[1,"toggle-head"],[1,"list-group","list-group-flush"],["data-bs-toggle","collapse","aria-expanded","true",1,"list-group-item","d-flex","justify-content-between","align-items-sm-center","saltBg"],[1,"iconButton","chevron-icon","ms-4","me-2"],[1,"ms-2","me-auto","darkblue"],[1,"fw-bold","darkblue"],[1,"form-check","form-switch"],["type","checkbox","name","toggle",1,"form-check-input"],[1,"collapse",3,"id"],[1,"card","card-body","darkblue"],[1,"list-group","list-group-flush","sm-list"],[1,"list-group-item","active"],[1,"text-decoration-underline","night","fw-bold"],["type","checkbox","value","m1",1,"form-check-input","me-2","parent-checkbox",3,"id","checked","change"],["class","list-group-item d-flex align-items-center",4,"ngFor","ngForOf"],[1,"list-group-item","d-flex","align-items-center"],[1,"night","fw-bold","main-checkbox"],["type","checkbox",1,"form-check-input","me-2",3,"id","checked","value","click","change"],[1,"fw-normal","badge","oceanBg"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"form",2),e.NdJ("submit",function(){return i.CreatePermission()}),e.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"div",11)(12,"nav")(13,"div",12)(14,"button",13)(15,"h6"),e._uU(16,"Details"),e.qZA()(),e.TgZ(17,"button",14)(18,"h6"),e._uU(19,"Access Points"),e.qZA()()()()(),e.TgZ(20,"div",15)(21,"div",16)(22,"div",17)(23,"div",18)(24,"div",19)(25,"div",20)(26,"p",21),e._uU(27," The permissions of default roles cannot be edited. Create a new role to select custom permissions. "),e.qZA(),e.TgZ(28,"div",22)(29,"div",23)(30,"div",24),e._UZ(31,"input",25),e.TgZ(32,"label",26),e._uU(33,"Name"),e.qZA()(),e.TgZ(34,"div",27)(35,"small"),e._uU(36,"e.g. Customer Support Team"),e.qZA()()(),e.TgZ(37,"div",28)(38,"select",29),e.NdJ("change",function(){return i.getAllFloors()})("ngModelChange",function(r){return i.loc_id=r}),e.TgZ(39,"option",30),e._uU(40,"Select Location"),e.qZA(),e.YNc(41,U,2,2,"option",31),e.qZA(),e.TgZ(42,"label",32),e._uU(43," Location"),e.qZA()(),e.TgZ(44,"div",33)(45,"div",24),e._UZ(46,"textarea",34),e.TgZ(47,"label",35),e._uU(48,"Description"),e.qZA()(),e.TgZ(49,"div",27)(50,"small"),e._uU(51,"e.g. This roles & permissions belong to agent and team members"),e.qZA()()()()()()()(),e.TgZ(52,"div",36),e.YNc(53,P,5,2,"ng-container",37),e.qZA()()()()(),e.TgZ(54,"footer",38)(55,"div",39)(56,"div",40)(57,"div",41),e._UZ(58,"div",42),e.TgZ(59,"div",43)(60,"div",44)(61,"button",45),e._uU(62,"Cancel "),e.qZA(),e._UZ(63,"button",46),e.TgZ(64,"button",47),e._uU(65,"Save"),e.qZA()()()()()()()()()()()()()()()()),2&t&&(e.xp6(2),e.Q6J("formGroup",i.permissionForm),e.xp6(36),e.Q6J("ngModel",i.loc_id),e.xp6(3),e.Q6J("ngForOf",i.Locations),e.xp6(12),e.Q6J("ngForOf",i.Floors),e.xp6(11),e.Q6J("disabled",!i.permissionForm.valid))},directives:[n._Y,n.JL,n.sg,n.Fj,n.JJ,n.u,n.EJ,n.YN,n.Kr,b.sg,u.rH],pipes:[I],styles:[""]}),s})();function L(s,c){if(1&s&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&s){const t=c.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function J(s,c){if(1&s){const t=e.EpF();e.TgZ(0,"li",67)(1,"label",68)(2,"input",69),e.NdJ("click",function(){const r=e.CHM(t).$implicit,a=e.oxw().$implicit,l=e.oxw().$implicit;return e.oxw().addPermission(l.floors.id,r.id,a.id,"","","")})("change",function(o){const a=e.CHM(t).index,l=e.oxw().index,d=e.oxw().index;return e.oxw().isAllSelected(o,a,l,d)}),e.qZA(),e._uU(3),e.qZA(),e.TgZ(4,"small",70),e._uU(5,"IN"),e.qZA()()}if(2&s){const t=c.$implicit,i=c.index,o=e.oxw().index,r=e.oxw().index;e.xp6(2),e.cQ8("id","check",r,"",o,"",i,""),e.s9C("value",t.id),e.Q6J("checked",t.isChecked),e.xp6(1),e.hij(" ",t.name," ")}}function M(s,c){if(1&s){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",51)(2,"div",52)(3,"ul",53)(4,"li",54),e.ALo(5,"removewhitespaces"),e.ALo(6,"removewhitespaces"),e._UZ(7,"span",55),e.TgZ(8,"div",56)(9,"div",57),e._uU(10),e.qZA()(),e.TgZ(11,"div",58),e._UZ(12,"input",59),e.qZA()()()(),e.TgZ(13,"div",60),e.ALo(14,"removewhitespaces"),e.TgZ(15,"div",61)(16,"ul",62)(17,"li",63)(18,"label",64)(19,"input",65),e.NdJ("change",function(o){const a=e.CHM(t).index,l=e.oxw().index;return e.oxw().checkUncheckAll(o,a,l)}),e.qZA(),e._uU(20," Select All "),e.qZA()(),e.YNc(21,J,6,6,"li",66),e.qZA()()()(),e.BQk()}if(2&s){const t=c.$implicit,i=c.index,o=e.oxw().index;e.xp6(4),e.uIk("data-bs-target",e.lcZ(5,8,"#"+t.name))("aria-controls",e.lcZ(6,10,t.name)),e.xp6(6),e.hij(" ",t.name,""),e.xp6(3),e.Q6J("id",e.lcZ(14,12,t.name)),e.xp6(6),e.hYB("id","all",o,"",i,""),e.Q6J("checked",t.isMasterSelectAll),e.xp6(2),e.Q6J("ngForOf",t.devices)}}function B(s,c){if(1&s&&(e.ynx(0),e.TgZ(1,"h6",49),e._uU(2),e.qZA(),e._UZ(3,"div",50),e.YNc(4,M,22,14,"ng-container",37),e.BQk()),2&s){const t=c.$implicit;e.xp6(2),e.Oqu(t.floors.name),e.xp6(2),e.Q6J("ngForOf",t.accesspoint)}}let D=(()=>{class s{constructor(t,i,o,r,a){this.dataShare=t,this.locationService=i,this.floorService=o,this.activatedRoute=r,this.permissionService=a,this.message=["Permissions","Edit Permission","","","","","","","fal fa-business-time","","","breadcrumb-item active"],this.permission=new A,this.loc_id=0,this.AccessPoint=[],this.name=this.activatedRoute.snapshot.params.name,this.permissionForm=new n.cw({Id:new n.NI(this.permission.id),Name:new n.NI(this.permission.name),Location_Id:new n.NI(this.permission.location_Id),Description:new n.NI(this.permission.description),Floor_Id:new n.NI(this.permission.Floor_Id),AccessPoint_Id:new n.NI(this.permission.AccessPoint_Id),Device_Id:new n.NI(this.permission.Device_Id),is_Bio:new n.NI(this.permission.is_Bio),is_RFID:new n.NI(this.permission.is_RFID),is_Face:new n.NI(this.permission.is_Face)})}ngOnInit(){this.dataShare.sendMessage(this.message),this.getPermissionById(),this.getAllLocations()}getPermissionById(){this.permissionService.getByName(this.name).subscribe(t=>{this.permission=t.data,console.log("This is permission data===>",this.permission),this.permissionForm.patchValue({Id:t.data.result.Details.id,Name:t.data.result.Details.name,Location_Id:t.data.result.Details.locationId,Description:t.data.result.Details.description,Floor_Id:t.data.result.Floor_Id,AccessPoint_Id:t.data.result.AccessPoint_Id,Device_Id:t.data.result.Device_Id,is_Bio:t.data.result.is_Bio,is_RFID:t.data.result.is_RFID,is_Face:t.data.result.is_Face})})}getAllLocations(){this.locationService.getAllLocations().subscribe(t=>{this.Locations=t.data},t=>{})}getAllFloors(t){this.floorService.getAllByLocation(t).subscribe(i=>{this.Floors=i.data,this.Floors.forEach(o=>{o.accesspoint.forEach(r=>{r.isMasterSelectAll=!1})}),console.log("Floors====>",this.Floors),this.Floors.forEach(o=>{o.accesspoint.forEach(r=>{console.log("devicesss=====>",r.devices)})})},i=>{})}addPermission(t,i,o,r,a,l){let g,h,f,d=this.AccessPoint.find(p=>p.Floor_Id==t&&p.Device_Id==i);if(null==d)g=""!=r&&r.target.checked,h=""!=a&&a.target.checked,f=""!=l&&l.target.checked,this.AccessPoint.push({Id:0,Name:this.permissionForm.value.Name,Location_Id:this.permissionForm.value.Location_Id,Description:this.permissionForm.value.Description,Floor_Id:t,AccessPoint_Id:o,Device_Id:i,is_Bio:g,is_RFID:h,is_Face:f});else{let p=this.AccessPoint.findIndex(_=>_.Floor_Id==t&&_.Device_Id==i);""!=r&&(d.is_Bio=r.target.checked),""!=a&&(d.is_RFID=a.target.checked),""!=l&&(d.is_Face=l.target.checked),this.AccessPoint[p]=d}console.log(this.AccessPoint)}editPermission(){}checkUncheckAll(t,i,o){let r,a;r=this.Floors[o],a=r.accesspoint[i],a.devices.forEach(l=>l.isChecked=t.target.checked),a.isMasterSelectAll=!!a.devices.every(l=>1==l.isChecked)}isAllSelected(t,i,o,r){let a,l;a=this.Floors[r],l=a.accesspoint[o],l.devices[i].isChecked=t.target.checked,l.isMasterSelectAll=!!l.devices.every(d=>1==d.isChecked)}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(v.f),e.Y36(C.a),e.Y36(F.w),e.Y36(u.gz),e.Y36(x.$))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-editpermission"]],decls:66,vars:3,consts:[[1,"main-wrapper","d-flex"],[1,"middle-wrapper","d-flex","w-100","flex-column"],[3,"formGroup","submit"],[1,"content-box-wrapper","d-flex","w-100"],[1,"middle-content","d-flex"],[1,"page-content-wrapper"],[1,"w-auto","chat-message-component","inner-forms","w-100"],[1,"d-flex","main-body-wrapper"],[1,"agent-page-main-content"],["data-scrollbar","data-scrollbar",1,"query-container","console-body-wrapper","form-body-wrap","perfect-scrollbar"],[1,"w-100","p-4"],[1,"tab-header"],["id","nav-tab","role","tablist",1,"nav","nav-tabs","mb-3"],["id","role-detail-tab","data-bs-toggle","tab","data-bs-target","#role-detail","type","button","role","tab","aria-controls","role-detail","aria-selected","false",1,"nav-link","active"],["id","permission-sec-tab","data-bs-toggle","tab","data-bs-target","#permission-sec","type","button","role","tab","aria-controls","permission-sec","aria-selected","false",1,"nav-link"],[1,"tab-body"],["id","nav-tabContent",1,"tab-content"],["id","role-detail","role","tabpanel","aria-labelledby","role-detail-tab",1,"tab-pane","fade","active","show"],[1,"row","justify-content-center","p-5"],[1,"col-md-8"],[1,"role-detail-wrap"],[1,"line-txt","mb-4"],[1,"floating-list"],[1,"floating-item","mb-3"],[1,"floating-wrap","form-floating"],["type","email","id","floatingInput","placeholder","Name","value","Team Members","formControlName","Name",1,"form-control"],["for","floatingInputValue"],[1,"example-text"],[1,"form-floating","mb-4"],["id","floatingSelect","aria-label","Floating label select example","formControlName","Location_Id",1,"form-select",3,"ngModelChange"],["disabled","","value","0"],[3,"value",4,"ngFor","ngForOf"],["for","floatingSelect"],[1,"floating-item","mb-4"],["placeholder","This roles & permissions belong to agent and\n                      team members","id","floatingTextarea2","formControlName","Description",1,"form-control",2,"height","100px"],["for","floatingTextarea2"],["id","permission-sec","role","tabpanel","aria-labelledby","permission-sec-tab",1,"tab-pane","fade"],[4,"ngFor","ngForOf"],[1,"footer"],[1,"ps-3","pe-3"],[1,"icon-buttons-wrapper","d-flex","justify-content-between","pt-3","pb-4"],[1,"row","w-100"],[1,"col-md-4"],[1,"col-md-8","justify-content-end","d-flex"],[1,"buttons-wrap","d-flex"],["routerLink","/dashboard/listofpermissions","type","button","data-bs-toggle","modal","data-bs-target","",1,"btn","btn-outline-secondary","btn-medium","me-2","px-4"],["type","button",1,"btn","btn-success","ms-e","f-saveBtn","btn-large","d-none"],["type","submit","data-bs-toggle","modal","data-bs-target","#save-account-modal",1,"btn","skyBg","ms-2","px-4","btn-medium","saveBtn"],[3,"value"],[1,"mt-5"],[1,"border","mb-4"],[1,"collapse-toggle-card","toggle-wrap","shadow-sm","rounded","border","mb-3"],[1,"toggle-head"],[1,"list-group","list-group-flush"],["data-bs-toggle","collapse","aria-expanded","true",1,"list-group-item","d-flex","justify-content-between","align-items-sm-center","saltBg"],[1,"iconButton","chevron-icon","ms-4","me-2"],[1,"ms-2","me-auto","darkblue"],[1,"fw-bold","darkblue"],[1,"form-check","form-switch"],["type","checkbox","name","toggle",1,"form-check-input"],[1,"collapse",3,"id"],[1,"card","card-body","darkblue"],[1,"list-group","list-group-flush","sm-list"],[1,"list-group-item","active"],[1,"text-decoration-underline","night","fw-bold"],["type","checkbox","value","m1",1,"form-check-input","me-2","parent-checkbox",3,"id","checked","change"],["class","list-group-item d-flex align-items-center",4,"ngFor","ngForOf"],[1,"list-group-item","d-flex","align-items-center"],[1,"night","fw-bold","main-checkbox"],["type","checkbox",1,"form-check-input","me-2",3,"id","checked","value","click","change"],[1,"fw-normal","badge","oceanBg"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"form",2),e.NdJ("submit",function(){return i.editPermission()}),e.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"div",11)(12,"nav")(13,"div",12)(14,"button",13)(15,"h6"),e._uU(16,"Details"),e.qZA()(),e.TgZ(17,"button",14)(18,"h6"),e._uU(19,"Access Points"),e.qZA()()()()(),e.TgZ(20,"div",15)(21,"div",16)(22,"div",17)(23,"div",18)(24,"div",19)(25,"div",20)(26,"p",21),e._uU(27," The permissions of default roles cannot be edited. Create a new role to select custom permissions. "),e.qZA(),e.TgZ(28,"div",22)(29,"div",23)(30,"div",24),e._UZ(31,"input",25),e.TgZ(32,"label",26),e._uU(33,"Name"),e.qZA()(),e.TgZ(34,"div",27)(35,"small"),e._uU(36,"e.g. Customer Support Team"),e.qZA()()(),e.TgZ(37,"div",28)(38,"select",29),e.NdJ("ngModelChange",function(r){return i.getAllFloors(r)}),e.TgZ(39,"option",30),e._uU(40,"Select Location"),e.qZA(),e.YNc(41,L,2,2,"option",31),e.qZA(),e.TgZ(42,"label",32),e._uU(43," Location"),e.qZA()(),e.TgZ(44,"div",33)(45,"div",24),e._UZ(46,"textarea",34),e.TgZ(47,"label",35),e._uU(48,"Description"),e.qZA()(),e.TgZ(49,"div",27)(50,"small"),e._uU(51,"e.g. This roles & permissions belong to agent and team members"),e.qZA()()()()()()()(),e.TgZ(52,"div",36),e.YNc(53,B,5,2,"ng-container",37),e.qZA()()()()(),e.TgZ(54,"footer",38)(55,"div",39)(56,"div",40)(57,"div",41),e._UZ(58,"div",42),e.TgZ(59,"div",43)(60,"div",44)(61,"button",45),e._uU(62,"Cancel "),e.qZA(),e._UZ(63,"button",46),e.TgZ(64,"button",47),e._uU(65,"Save"),e.qZA()()()()()()()()()()()()()()()()),2&t&&(e.xp6(2),e.Q6J("formGroup",i.permissionForm),e.xp6(39),e.Q6J("ngForOf",i.Locations),e.xp6(12),e.Q6J("ngForOf",i.Floors))},directives:[n._Y,n.JL,n.sg,n.Fj,n.JJ,n.u,n.EJ,n.YN,n.Kr,b.sg,u.rH],pipes:[I],styles:[""]}),s})();var Z=m(72);const Y=function(s){return["/dashboard/listofpermissions/editpermission/",s]};function E(s,c){if(1&s){const t=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"ul",30)(3,"li",31)(4,"div",32)(5,"div",33),e._uU(6),e.qZA(),e._uU(7),e.qZA()()()(),e.TgZ(8,"td")(9,"div",34)(10,"button",35),e._UZ(11,"i",36),e.qZA(),e.TgZ(12,"button",37),e._UZ(13,"i",38),e.qZA(),e.TgZ(14,"ul",39)(15,"li")(16,"a",40),e._uU(17,"Edit"),e.qZA()(),e.TgZ(18,"li")(19,"a",41),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().DeletePermission(r.name)}),e._uU(20,"Delete"),e.qZA()()()()()()}if(2&s){const t=c.$implicit;e.xp6(6),e.hij("",t.name," "),e.xp6(1),e.hij(" ",t.description," "),e.xp6(9),e.Q6J("routerLink",e.VKq(3,Y,t.name))}}let Q=(()=>{class s{constructor(t,i,o,r){this.dataShare=t,this.permissionService=i,this.toastr=o,this.SpinnerService=r,this.message=["Permissions","","","","","","","","fal fa-business-time","/dashboard/listofpermissions"],this.search=""}ngOnInit(){this.getAllPermissions(),this.dataShare.sendMessage(this.message)}getAllPermissions(){this.SpinnerService.show(),this.permissionService.getAll(this.search).subscribe(t=>{this.permissions=t.data,this.permissionCount=t.data.count,console.log(t),this.SpinnerService.hide()})}DeletePermission(t){this.permissionService.delete(t).subscribe(i=>{this.toastr.success("Deleted Successfully","Deleted"),this.getAllPermissions()})}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(v.f),e.Y36(x.$),e.Y36(T._W),e.Y36(Z.t2))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-listofpermissions"]],decls:39,vars:3,consts:[["type","ball-scale-multiple"],[1,"main-wrapper","d-flex"],[1,"middle-wrapper","d-flex","w-100","flex-column"],[1,"content-box-wrapper","d-flex","w-100"],[1,"middle-content","d-flex"],[1,"page-content-wrapper"],[1,"w-auto","chat-message-component","inner-forms","w-100"],[1,"d-flex","main-body-wrapper"],[1,"agent-page-main-content"],["data-scrollbar","data-scrollbar",1,"query-container","console-body-wrapper","form-body-wrap","perfect-scrollbar"],[1,"p-4","w-100"],[1,"filter-toolbar"],[1,"row"],[1,"col-lg-6"],[1,"list-inline","m-0","d-flex","align-items-center"],[1,"list-inline-item"],[1,"searchbar-click"],[1,"searchbox"],["placeholder","Search","name","search","required","",1,"searchbox-input",3,"ngModel","ngModelChange"],[1,"searchbox-icon","medium","iconButton"],[1,"fa","fa-search"],[1,"col-lg-6","d-flex","align-items-center","justify-content-end"],["routerLink","/dashboard/listofpermissions/createpermission",1,"ms-2"],["type","button",1,"btn","btn-success"],[1,"fal","fa-plus"],[1,"table-section"],[1,"table","mb-5","align-middle"],[1,"border-0"],[1,"silver","pt-0"],[4,"ngFor","ngForOf"],[1,"list-group","list-group-flush"],[1,"list-group-item","d-flex","justify-content-between","align-items-start","p-0","pt-2","pb-2"],[1,"ms-2","me-auto","fw-normal","coal"],[1,"fw-bold","night"],[1,"icons-list","d-flex","justify-content-end","dropstart"],[1,"btn","iconButton","medium","iconHover"],[1,"fal","fa-edit"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","iconButton","medium","iconHover","btn-group"],[1,"far","fa-ellipsis-v"],[1,"dropdown-menu","fade"],[1,"dropdown-item",3,"routerLink"],[1,"dropdown-item",3,"click"]],template:function(t,i){1&t&&(e._UZ(0,"ngx-spinner",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"div",11)(12,"div",12)(13,"div",13)(14,"ul",14)(15,"li",15)(16,"div",16)(17,"form",17)(18,"input",18),e.NdJ("ngModelChange",function(r){return i.search=r})("ngModelChange",function(){return i.getAllPermissions()}),e.qZA(),e.TgZ(19,"span",19),e._UZ(20,"i",20),e.qZA()()()()()(),e.TgZ(21,"div",21)(22,"a",22)(23,"button",23),e._UZ(24,"i",24),e._uU(25," Create Permission "),e.qZA()()()()(),e.TgZ(26,"div",25)(27,"table",26)(28,"thead")(29,"tr")(30,"th",27),e._uU(31),e.qZA(),e._UZ(32,"th",27),e.qZA(),e.TgZ(33,"tr")(34,"th",28),e._uU(35,"The first matching roles & permissions will be applied to user with matching conditions"),e.qZA(),e._UZ(36,"th"),e.qZA()(),e.TgZ(37,"tbody"),e.YNc(38,E,21,5,"tr",29),e.qZA()()()()()()()()()()()()()),2&t&&(e.xp6(18),e.Q6J("ngModel",i.search),e.xp6(13),e.hij("",i.permissionCount," Permissions"),e.xp6(7),e.Q6J("ngForOf",i.permissions))},directives:[Z.Ro,n._Y,n.JL,n.F,n.Fj,n.Q7,n.JJ,n.On,u.yS,b.sg],styles:[""]}),s})();var k=m(9945);const j=[{path:"",component:Q,canActivate:[k.a]},{path:"createpermission",component:q,canActivate:[k.a]},{path:"editpermission/:name",component:D}];let O=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[[u.Bz.forChild(j)],u.Bz]}),s})(),R=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[[b.ez,O,n.UX,n.u5,Z.ef]]}),s})()}}]);